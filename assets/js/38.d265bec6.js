(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{350:function(e,o,s){"use strict";s.r(o);var t=s(8),v=Object(t.a)({},(function(){var e=this,o=e._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("提示")]),e._v(" "),o("p",[e._v("刚好遇到SSO单点登录的问题，借此文章整理对应的技术实现与注意事项。")])]),e._v(" "),o("h1",{attrs:{id:"单点登录存在的意义"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#单点登录存在的意义"}},[e._v("#")]),e._v(" 单点登录存在的意义")]),e._v(" "),o("ol",[o("li",[e._v("解决 "),o("code",[e._v("HTTP")]),e._v(" 无状态的问题")]),e._v(" "),o("li",[e._v("解决多系统登录统一认证的问题")])]),e._v(" "),o("ul",[o("li",[e._v("多系统登录存在跨域问题，需要解决")]),e._v(" "),o("li",[e._v("使用单点登录，只需要携带统一凭证即可")])]),e._v(" "),o("h1",{attrs:{id:"单点登录的具体流程"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#单点登录的具体流程"}},[e._v("#")]),e._v(" 单点登录的具体流程")]),e._v(" "),o("p",[o("img",{attrs:{src:"/leonBlog/img/sso.png",alt:"sso原理"}})]),e._v(" "),o("h1",{attrs:{id:"cookie、session、token-之间的区别"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie、session、token-之间的区别"}},[e._v("#")]),e._v(" "),o("code",[e._v("cookie")]),e._v("、"),o("code",[e._v("session")]),e._v("、"),o("code",[e._v("token")]),e._v(" 之间的区别")]),e._v(" "),o("h2",{attrs:{id:"cookie-与-session-的区别"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-与-session-的区别"}},[e._v("#")]),e._v(" "),o("code",[e._v("cookie")]),e._v(" 与 "),o("code",[e._v("session")]),e._v(" 的区别")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("cookie")]),e._v(" 数据保存在 client，而 "),o("code",[e._v("session")]),e._v(" 数据保存在 "),o("code",[e._v("server")])]),e._v(" "),o("li",[o("code",[e._v("cookie")]),e._v(" 的安全性有一定问题，可能回存在 "),o("code",[e._v("cookie")]),e._v(" 欺诈的问题")]),e._v(" "),o("li",[o("code",[e._v("session")]),e._v(" 会占用较多的服务器资源，同时，如果做了负载均衡，不同服务器之间的 "),o("code",[e._v("session")]),e._v(" 信息不会同步")]),e._v(" "),o("li",[e._v("单个 "),o("code",[e._v("cookie")]),e._v(" 最多 4K，一个站点最多保留 20 个 "),o("code",[e._v("cookie")])])]),e._v(" "),o("h2",{attrs:{id:"cookie-与-token-的区别"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-与-token-的区别"}},[e._v("#")]),e._v(" "),o("code",[e._v("cookie")]),e._v(" 与 "),o("code",[e._v("token")]),e._v(" 的区别")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("cookie")]),e._v(" + "),o("code",[e._v("session")]),e._v(" 是一种常用的解决http无状态的方式，可以创建临时会话")]),e._v(" "),o("li",[e._v("而token本身是服务端提供给客户端的临时凭证，可以在多系统之间提供临时的身份认证")])]),e._v(" "),o("h2",{attrs:{id:"cookie-session-的方式为什么不能防止-csrf-而-token-可以"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-session-的方式为什么不能防止-csrf-而-token-可以"}},[e._v("#")]),e._v(" "),o("code",[e._v("cookie")]),e._v(" + "),o("code",[e._v("session")]),e._v(" 的方式为什么不能防止 "),o("code",[e._v("CSRF")]),e._v("，而 "),o("code",[e._v("token")]),e._v(" 可以")]),e._v(" "),o("p",[e._v("因为form 发起的 POST 请求并不受到浏览器同源策略的限制，因此可以任意地使用其他域的 Cookie 向其他域发送 POST 请求，形成 CSRF 攻击。在post请求的瞬间，cookie会被浏览器自动添加到请求头中。但token不同，token是开发者为了防范csrf而特别设计的令牌，浏览器不会自动添加到headers里，攻击者也无法访问用户的token，所以提交的表单无法通过服务器过滤，也就无法形成攻击。")]),e._v(" "),o("h1",{attrs:{id:"参考文章"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[e._v("#")]),e._v(" 参考文章")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://juejin.cn/post/7092675074683043847",target:"_blank",rel:"noopener noreferrer"}},[e._v("单点登录（SSO）"),o("OutboundLink")],1)]),e._v(" "),o("p",[o("a",{attrs:{href:"https://wuch886.gitbooks.io/front-end-handbook/content/session-cookiehe-token-san-zhe-de-guan-xi-he-qu-bie.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Session Cookie Token三者的关系和区别"),o("OutboundLink")],1)]),e._v(" "),o("p",[o("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1683290",target:"_blank",rel:"noopener noreferrer"}},[e._v("面试必问:session，cookie和token的区别"),o("OutboundLink")],1)])])}),[],!1,null,null,null);o.default=v.exports}}]);